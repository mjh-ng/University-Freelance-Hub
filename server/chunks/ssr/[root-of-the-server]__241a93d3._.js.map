{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Users/markhong/creative-project-520521/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Link from 'next/link'\nimport supabase from '@/lib/supabaseBrowserClient'\n\ntype Request = {\n  id: number\n  title: string\n  description: string\n  paid: boolean\n  created_at: string\n}\n\nexport default function HomePage() {\n  const [requests, setRequests] = useState<Request[]>([])\n  const [loading, setLoading] = useState(true)\n  const router = useRouter()\n  \n  useEffect(() => {\n    const check = async () => {\n      const { data } = await supabase.auth.getUser() \n      if (!data.user) router.replace('/login') // if not logged in, redirect to login\n    }\n  \n    check()\n  }, [])\n\n  useEffect(() => {\n    const fetchRequests = async () => {\n      const { data, error } = await supabase.from('requests').select('*').order('created_at', { ascending: false })\n\n      if (error) {\n        console.error('Error fetching requests:', error.message)\n      } else {\n        setRequests(data || [])\n      }\n\n      setLoading(false)\n    }\n\n    fetchRequests()\n  }, [])\n\n  return (\n    <div className=\"p-6 max-w-2xl mx-auto\">\n      <h1 className=\"text-3xl font-bold mb-6 text-center\">üéì WashU Freelancer Hub</h1>\n\n      {loading ? (\n        <p>Loading project requests...</p>\n      ) : requests.length === 0 ? (\n        <p>No requests posted yet.</p>\n      ) : (\n        <ul className=\"space-y-4\">\n          {requests.map((req) => (\n            <li key={req.id} className=\"border p-4 rounded shadow-sm\">\n              <h2 className=\"text-xl font-semibold\">{req.title}</h2>\n              {req.description && <p className=\"text-sm mt-1\">{req.description}</p>}\n              <p className=\"text-xs mt-2 text-gray-500\">\n                {req.paid ? 'üí∏ Paid' : 'üôè Unpaid'} ¬∑ Posted {new Date(req.created_at).toLocaleString()}\n              </p>\n            </li>\n          ))}\n        </ul>\n      )}\n\n      <div className=\"mt-8 text-center\">\n        <Link\n          href=\"/post\"\n          className=\"inline-block bg-black text-white px-4 py-2 rounded hover:bg-gray-800\"\n        >\n          + Post a New Request\n        </Link>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAee,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ;YACZ,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,4HAAA,CAAA,UAAQ,CAAC,IAAI,CAAC,OAAO;YAC5C,IAAI,CAAC,KAAK,IAAI,EAAE,OAAO,OAAO,CAAC,UAAU,sCAAsC;;QACjF;QAEA;IACF,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,gBAAgB;YACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,4HAAA,CAAA,UAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC,KAAK,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM;YAE3G,IAAI,OAAO;gBACT,QAAQ,KAAK,CAAC,4BAA4B,MAAM,OAAO;YACzD,OAAO;gBACL,YAAY,QAAQ,EAAE;YACxB;YAEA,WAAW;QACb;QAEA;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAsC;;;;;;YAEnD,wBACC,8OAAC;0BAAE;;;;;uBACD,SAAS,MAAM,KAAK,kBACtB,8OAAC;0BAAE;;;;;qCAEH,8OAAC;gBAAG,WAAU;0BACX,SAAS,GAAG,CAAC,CAAC,oBACb,8OAAC;wBAAgB,WAAU;;0CACzB,8OAAC;gCAAG,WAAU;0CAAyB,IAAI,KAAK;;;;;;4BAC/C,IAAI,WAAW,kBAAI,8OAAC;gCAAE,WAAU;0CAAgB,IAAI,WAAW;;;;;;0CAChE,8OAAC;gCAAE,WAAU;;oCACV,IAAI,IAAI,GAAG,YAAY;oCAAY;oCAAW,IAAI,KAAK,IAAI,UAAU,EAAE,cAAc;;;;;;;;uBAJjF,IAAI,EAAE;;;;;;;;;;0BAWrB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,4JAAA,CAAA,UAAI;oBACH,MAAK;oBACL,WAAU;8BACX;;;;;;;;;;;;;;;;;AAMT","debugId":null}}]
}