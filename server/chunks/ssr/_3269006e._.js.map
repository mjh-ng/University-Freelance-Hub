{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/markhong/creative-project-520521/components/themeToggle.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\n\nexport default function ThemeToggle() {\n  const [isDark, setIsDark] = useState(false)\n\n  useEffect(() => {\n    const stored = localStorage.getItem('theme')\n    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches\n    const initial = stored === 'dark' || (!stored && prefersDark)\n    setIsDark(initial)\n    document.documentElement.classList.toggle('dark', initial)\n  }, [])\n\n  const toggleTheme = () => {\n    const newTheme = !isDark\n    setIsDark(newTheme)\n    document.documentElement.classList.toggle('dark', newTheme)\n    localStorage.setItem('theme', newTheme ? 'dark' : 'light')\n  }\n\n  return (\n    <div\n      onClick={toggleTheme}\n      className=\"w-16 h-16 bg-[var(--toggle-bg)] text-[var(--toggle-fg)] shadow flex items-center justify-center cursor-pointer hover:scale-105 transition-transform\"\n    >\n      {isDark ? 'üåô' : '‚òÄÔ∏è'}\n    </div>\n  )\n}"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAErC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,MAAM,cAAc,OAAO,UAAU,CAAC,gCAAgC,OAAO;QAC7E,MAAM,UAAU,WAAW,UAAW,CAAC,UAAU;QACjD,UAAU;QACV,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ;IACpD,GAAG,EAAE;IAEL,MAAM,cAAc;QAClB,MAAM,WAAW,CAAC;QAClB,UAAU;QACV,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ;QAClD,aAAa,OAAO,CAAC,SAAS,WAAW,SAAS;IACpD;IAEA,qBACE,8OAAC;QACC,SAAS;QACT,WAAU;kBAET,SAAS,OAAO;;;;;;AAGvB","debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/markhong/creative-project-520521/app/post/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport supabase from '@/lib/supabaseBrowserClient'\nimport { motion } from 'framer-motion'\nimport ThemeToggle from '@/components/themeToggle'\n\nexport default function PostPage() {\n  const [jobs, setJobs] = useState<any[]>([])\n  const [editingJob, setEditingJob] = useState<any | null>(null)\n  const [title, setTitle] = useState('')\n  const [description, setDescription] = useState('')\n  const [isPaid, setIsPaid] = useState(false)\n  const [hovered, setHovered] = useState(false)\n  const router = useRouter()\n\n  const loadJobs = async () => {\n    const { data: userData } = await supabase.auth.getUser()\n    const email = userData.user?.email\n\n    const { data, error } = await supabase\n      .from('jobs')\n      .select(`*, claims ( id, claimer_email, created_at )`)\n      .eq('poster_email', email)\n      .order('created_at', { ascending: false })\n\n    if (!error && data) setJobs(data)\n  }\n\n  useEffect(() => {\n    loadJobs()\n  }, [router])\n\n  const resetForm = () => {\n    setTitle('')\n    setDescription('')\n    setIsPaid(false)\n    setEditingJob(null)\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    const { data: { user } } = await supabase.auth.getUser()\n\n    if (editingJob?.id) {\n      await supabase\n        .from('jobs')\n        .update({ title, description, is_paid: isPaid })\n        .eq('id', editingJob.id)\n    } else {\n      const { error } = await supabase.from('jobs').insert({\n        title,\n        description,\n        is_paid: isPaid,\n        poster_email: user?.email,\n      })\n      if (error) console.error('Insert failed:', error)\n    }\n\n    resetForm()\n    loadJobs()\n  }\n\n  const handleEdit = (job: any) => {\n    setEditingJob(job)\n    setTitle(job?.title || '')\n    setDescription(job?.description || '')\n    setIsPaid(job?.is_paid || false)\n  }\n\n  const handleDelete = async (id: number) => {\n    await supabase.from('jobs').delete().eq('id', id)\n    loadJobs()\n  }\n\n  const handleChooseClaimer = async (jobId: string, claimerEmail: string) => {\n    const { error } = await supabase\n      .from('jobs')\n      .update({ selected_claimer_email: claimerEmail })\n      .eq('id', jobId)\n\n    if (!error) {\n      const { data: userData } = await supabase.auth.getUser()\n      const email = userData.user?.email\n      if (email) {\n        const { data: jobData } = await supabase\n          .from('jobs')\n          .select('*, claims(id, claimer_email)')\n          .eq('poster_email', email)\n          .order('created_at', { ascending: false })\n        setJobs(jobData || [])\n      }\n    }\n  }\n\n  const assignedJobs = jobs.filter((job) => job.selected_claimer_email)\n  const unassignedJobs = jobs.filter((job) => !job.selected_claimer_email)\n\n  return (\n    <>\n      <div className=\"fixed inset-0 z-0\" style={{ background: 'var(--primary)' }} />\n  \n      <motion.div\n        initial={{ x: '-100%' }}\n        animate={{ x: 0 }}\n        exit={{ x: '100%' }}\n        transition={{ duration: 0.6 }}\n        style={{ position: 'absolute', width: '100vw', height: '100vh', overflow: 'auto', background: 'var(--background)' }}\n        className=\"z-10\"\n      >\n        <div className=\"w-full flex flex-col items-center pt-4\">\n          <div className=\"fixed top-4 left-4 z-50\">\n            <ThemeToggle />\n          </div>\n  \n          <div\n            onClick={() => {\n              if (!editingJob) {\n                setEditingJob({})\n              }\n            }}\n            onMouseEnter={() => setHovered(true)}\n            onMouseLeave={() => setHovered(false)}\n            className={`transition-all duration-300 cursor-pointer bg-var(--foreground) rounded shadow px-4 ${\n              editingJob ? 'py-6 w-[60%]' : 'py-2 w-72 hover:scale-[1.01]'\n            } flex flex-col items-center text-center`}\n          >\n            {editingJob ? (\n              <form onSubmit={handleSubmit} onClick={(e) => e.stopPropagation()} className=\"w-full\">\n                <input\n                  type=\"text\"\n                  className=\"border px-3 py-2 rounded w-full mb-2\"\n                  placeholder=\"Job title\"\n                  value={title}\n                  onChange={(e) => setTitle(e.target.value)}\n                  required\n                />\n                <textarea\n                  className=\"border px-3 py-2 rounded w-full mb-2\"\n                  placeholder=\"Job description\"\n                  value={description}\n                  onChange={(e) => setDescription(e.target.value)}\n                  required\n                />\n                <label className=\"flex items-center space-x-2 mb-4\">\n                  <input\n                    type=\"checkbox\"\n                    checked={isPaid}\n                    onChange={(e) => setIsPaid(e.target.checked)}\n                  />\n                  <span>Paid job</span>\n                </label>\n                <div className=\"flex justify-center gap-4\">\n                  <button type=\"submit\" className=\"bg-black text-var(--foreground) px-4 py-1 rounded\">\n                    {editingJob?.id ? 'Update Job' : 'Create Job'}\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={(e) => {\n                      e.stopPropagation()\n                      resetForm()\n                    }}\n                    className=\"text-sm text-gray-500 underline\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </form>\n            ) : (\n              <span className=\"text-gray-600 font-medium\">New Job</span>\n            )}\n          </div>\n  \n          <div className=\"w-full flex flex-col md:flex-row justify-center gap-6 px-6 mt-6\">\n            <div className=\"w-full md:w-[35%]\">\n              <div className=\"text-center mb-4\">\n                <h2 className=\"text-xl font-semibold text-var(--foreground) \">Jobs Being Worked On</h2>\n              </div>\n              {assignedJobs.map((job) => (\n                <div key={job.id} className=\"border p-4 rounded bg-var(--foreground) mb-4\">\n                  <h3 className=\"text-lg font-semibold text-center\">{job.title}</h3>\n                  <p className=\"text-gray-600 text-center\">{job.description}</p>\n                  <p className=\"text-sm text-gray-400 mt-1 text-center\">\n                    {job.is_paid ? 'üí∞ Paid' : 'üö´ Unpaid'}\n                  </p>\n                  <p className=\"text-sm mt-2 text-green-600 font-semibold text-center\">\n                    Assigned to: {job.selected_claimer_email?.split('@')[0]}\n                  </p>\n                </div>\n              ))}\n            </div>\n  \n            <div className=\"w-full md:w-[35%]\">\n              <div className=\"text-center mb-4\">\n                <h2 className=\"text-xl font-semibold text-var(--foreground) \">Unassigned Jobs</h2>\n              </div>\n              {unassignedJobs.map((job) => (\n                <div key={job.id} className=\"border p-4 rounded bg-var(--foreground) mb-4\">\n                  <h3 className=\"text-lg font-semibold text-center\">{job.title}</h3>\n                  <p className=\"text-gray-600 text-center\">{job.description}</p>\n                  <p className=\"text-sm text-gray-400 mt-1 text-center\">\n                    {job.is_paid ? 'üí∞ Paid' : 'üö´ Unpaid'}\n                  </p>\n  \n                  {job.claims && job.claims.length > 0 ? (\n                    <div className=\"mt-4\">\n                      <p className=\"text-sm font-semibold\">Claimed by:</p>\n                      <ul className=\"text-sm space-y-1 mt-1\">\n                        {job.claims.map((claim: any) => (\n                          <li key={claim.id} className=\"flex items-center justify-between\">\n                            <span>{claim.claimer_email}</span>\n                            <button\n                              onClick={() => handleChooseClaimer(job.id, claim.claimer_email)}\n                              className=\"text-blue-600 text-xs underline\"\n                            >\n                              Choose\n                            </button>\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n                  ) : (\n                    <p className=\"mt-4 text-sm text-gray-400 italic text-center\">\n                      No one has claimed this job yet.\n                    </p>\n                  )}\n  \n                  <div className=\"flex justify-center gap-2 mt-4\">\n                    <button\n                      onClick={() => handleEdit(job)}\n                      className=\"text-sm text-blue-600 underline\"\n                    >\n                      ‚úé Edit\n                    </button>\n                    <button\n                      onClick={() => handleDelete(job.id)}\n                      className=\"text-sm text-red-600 underline\"\n                    >\n                      üóë Delete\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n  \n          <div\n            onClick={() => router.push('/find')}\n            className=\"fixed top-0 right-0 h-screen w-6 bg-[var(--primary)] hover:w-48 transition-all duration-300 flex items-center justify-center cursor-pointer z-50 group\"\n          >\n            <span className=\"text-sm text-black opacity-0 group-hover:opacity-100 transition duration-300 rotate-90 whitespace-nowrap\">\n              ‚Üê Find\n            </span>\n          </div>\n        </div>\n      </motion.div>\n    </>\n  )\n}  "],"names":[],"mappings":"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","debugId":null}}]
}