{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/markhong/creative-project-520521/components/animatedProfilePanel.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef } from 'react'\nimport { motion } from 'framer-motion'\nimport supabase from '@/lib/supabaseBrowserClient'\n\ninterface ProfileData {\n  id: string\n  name: string | null\n  description: string | null\n  tags: string[] | null\n}\n\nexport default function AnimatedProfilePanel({ userId }: { userId: string }) {\n  const [expanded, setExpanded] = useState(false)\n  const [hovering, setHovering] = useState(false)\n  const [profile, setProfile] = useState<ProfileData | null>(null)\n  const [editing, setEditing] = useState(false)\n  const panelRef = useRef<HTMLDivElement | null>(null)\n\n  const [name, setName] = useState('')\n  const [description, setDescription] = useState('')\n  const [tags, setTags] = useState<string>('')\n\n  useEffect(() => {\n    const fetchProfile = async () => {\n      const { data } = await supabase\n        .from('profiles')\n        .select('*')\n        .eq('id', userId)\n        .single()\n\n      if (data) {\n        setProfile(data)\n        setName(data.name || '')\n        setDescription(data.description || '')\n        setTags((data.tags || []).join(', '))\n      }\n    }\n\n    if (userId) fetchProfile()\n  }, [userId])\n\n  useEffect(() => {\n    if (!expanded) return\n\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        panelRef.current &&\n        !panelRef.current.contains(event.target as Node)\n      ) {\n        setExpanded(false)\n        setEditing(false)\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside)\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [expanded])\n\n  const handleClick = () => {\n    setExpanded(!expanded)\n    setEditing(false)\n  }\n\n  const handleSave = async () => {\n    const { error } = await supabase.from('profiles').upsert({\n      id: userId,\n      name,\n      description,\n      tags: tags.split(',').map((t) => t.trim()),\n    })\n\n    if (!error) {\n      setProfile({ id: userId, name, description, tags: tags.split(',').map(t => t.trim()) })\n      setEditing(false)\n    }\n  }\n\n  const showContent = hovering || expanded\n\n  return (\n    <>\n      {expanded && (\n        <div className=\"fixed top-0 left-0 h-screen w-2 bg-orange-400 z-40\" />\n      )}\n\n      <motion.div\n        ref={panelRef}\n        layout\n        initial={false}\n        transition={{ type: 'spring', stiffness: 400, damping: 30 }}\n        onMouseEnter={() => setHovering(true)}\n        onMouseLeave={() => setHovering(false)}\n        onClick={() => {\n          if (!expanded) handleClick()\n        }}\n        className={`fixed top-0 right-0 z-50 shadow-lg overflow-hidden bg-[var(--background)] text-[var(--foreground)] p-4 transition-all ${\n          expanded ? 'h-screen w-[20vw]' : hovering ? 'w-36 h-screen cursor-pointer' : 'w-4 h-screen cursor-pointer'\n        }`}\n      >\n        {showContent && (\n          <div className=\"flex flex-col justify-between h-full\">\n            {editing ? (\n              <div className=\"space-y-3\">\n                <input\n                  type=\"text\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                  placeholder=\"Your name\"\n                  className=\"w-full border rounded p-1\"\n                />\n                <textarea\n                  value={description}\n                  onChange={(e) => setDescription(e.target.value)}\n                  placeholder=\"Description\"\n                  className=\"w-full border rounded p-1 h-24\"\n                />\n                <input\n                  type=\"text\"\n                  value={tags}\n                  onChange={(e) => setTags(e.target.value)}\n                  placeholder=\"Tags (comma separated)\"\n                  className=\"w-full border rounded p-1\"\n                />\n                <button\n                  onClick={handleSave}\n                  className=\"bg-black text-[var(--background)] px-3 py-1 rounded hover:bg-gray-800\"\n                >\n                  Save\n                </button>\n              </div>\n            ) : (\n              <>\n                <div className=\"flex justify-between items-center\">\n                  <h2 className=\"text-lg font-bold truncate\">\n                    {profile?.name || (expanded ? '[edit]' : '')}\n                  </h2>\n                  {expanded && (\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation()\n                        setEditing(true)\n                      }}\n                      className=\"text-sm text-blue-600 underline\"\n                    >\n                      Edit\n                    </button>\n                  )}\n                </div>\n\n                <div className=\"text-sm mt-2 whitespace-pre-wrap\">\n                  {(expanded ? profile?.description : profile?.description?.slice(0, 60)) || ''}\n                </div>\n\n                <div className=\"flex flex-wrap gap-2 mt-4\">\n                  {profile?.tags?.map((tag) => (\n                    <span key={tag} className=\"px-2 py-1 bg-gray-200 rounded text-xs\">\n                      {tag}\n                    </span>\n                  ))}\n                </div>\n              </>\n            )}\n          </div>\n        )}\n      </motion.div>\n    </>\n  )\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":["file:///Users/markhong/creative-project-520521/app/find/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport supabase from '@/lib/supabaseBrowserClient'\nimport { motion } from 'framer-motion'\nimport AnimatedProfilePanel from '@/components/animatedProfilePanel'\n\nexport default function FindPage() {\n  const [jobs, setJobs] = useState<any[]>([])\n  const [userId, setUserId] = useState<string | null>(null)\n  const [userEmail, setUserEmail] = useState<string | null>(null)\n  const router = useRouter()\n\n  useEffect(() => {\n    const load = async () => {\n      const { data: userData } = await supabase.auth.getUser()\n      const user = userData.user\n      if (user) {\n        setUserId(user.id)\n        setUserEmail(user.email ?? null)\n        loadOtherJobs(user.email ?? '')\n      }\n    }\n    load()\n  }, [])\n\n  const loadOtherJobs = async (email: string) => {\n    const { data, error } = await supabase\n      .from('jobs')\n      .select(`*, claims ( id, claimer_email )`)\n      .neq('poster_email', email)\n      .order('created_at', { ascending: false })\n\n    if (!error && data) {\n      const jobsWithClaimStatus = data.map((job) => ({\n        ...job,\n        claimedByUser: job.claims?.some(\n          (claim: { claimer_email: string }) => claim.claimer_email === email\n        ),\n      }))\n      setJobs(jobsWithClaimStatus)\n    }\n  }\n\n  const handleClaim = async (jobId: string) => {\n    const { data: userData } = await supabase.auth.getUser()\n    const email = userData.user?.email\n    if (!email) return\n\n    const { error } = await supabase.from('claims').insert({\n      job_id: jobId,\n      claimer_email: email,\n    })\n\n    if (!error) {\n      loadOtherJobs(email)\n    }\n  }\n\n  const availableJobs = jobs.filter(\n    (job) => !job.selected_claimer_email\n  )\n  const selectedJobs = jobs.filter(\n    (job) => job.selected_claimer_email === userEmail\n  )\n\n  return (\n    <div className=\"relative min-h-screen bg-orange-100\">\n      <div className=\"fixed inset-0 z-0\" style={{ background: 'var(--background)' }} />\n  \n      <motion.div\n        initial={{ x: '100%' }}\n        animate={{ x: 0 }}\n        exit={{ x: '-100%' }}\n        transition={{ duration: 0.6 }}\n        style={{ position: 'absolute', width: '100vw', height: '100vh', overflow: 'auto', background: 'var(--primary)' }}\n        className=\"z-10\"\n      >\n        {userId && <AnimatedProfilePanel userId={userId} />}\n  \n        <div className=\"w-full flex flex-col md:flex-row justify-center gap-6 px-6 pt-6\">\n          {/* Selected Jobs Column */}\n          <div className=\"w-full md:w-[35%]\">\n            <h1 className=\"text-2xl font-bold text-var(--foreground)  mb-4 text-center\">Jobs Selected For You</h1>\n            <div className=\"space-y-6\">\n              {selectedJobs.map((job) => (\n                <div key={job.id} className=\"border p-4 rounded bg-var(--foreground) \">\n                  <h3 className=\"text-lg font-semibold\">{job.title}</h3>\n                  <p className=\"text-gray-600\">{job.description}</p>\n                  <p className=\"text-sm text-green-600 mt-2\">✅ You’ve been selected to complete this job</p>\n                </div>\n              ))}\n            </div>\n          </div>\n  \n          {/* Available Jobs Column */}\n          <div className=\"w-full md:w-[35%]\">\n            <h1 className=\"text-2xl font-bold text-var(--foreground)  mb-4 text-center\">Available Jobs</h1>\n            <div className=\"space-y-6\">\n              {availableJobs.map((job) => (\n                <div key={job.id} className=\"border p-4 rounded bg-var(--foreground) \">\n                  <h3 className=\"text-lg font-semibold\">{job.title}</h3>\n                  <p className=\"text-gray-600\">{job.description}</p>\n                  <p className=\"text-sm text-gray-400 mt-1\">\n                    {job.is_paid ? '💰 Paid' : '🚫 Unpaid'}\n                  </p>\n                  <p className=\"text-xs text-gray-500 mt-2\">\n                    Posted by: {job.poster_email?.split('@')[0] || 'unknown'}\n                  </p>\n  \n                  {job.claimedByUser ? (\n                    <button disabled className=\"mt-4 bg-gray-400 text-var(--foreground)  px-4 py-2 rounded cursor-not-allowed\">\n                      ✅ Claimed\n                    </button>\n                  ) : (\n                    <button\n                      onClick={() => handleClaim(job.id)}\n                      className=\"mt-4 bg-black text-var(--foreground)  px-4 py-2 rounded hover:bg-gray-800 transition\"\n                    >\n                      Claim Job\n                    </button>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n  \n        <div\n          onClick={() => router.push('/post')}\n          className=\"fixed top-0 left-0 h-screen w-6 bg-[var(--background)] hover:w-48 transition-all duration-300 flex items-center justify-center cursor-pointer z-50 group\"\n        >\n          <span className=\"text-sm text-black opacity-0 group-hover:opacity-100 transition duration-300 -rotate-90 whitespace-nowrap\">\n            Post →\n          </span>\n        </div>\n      </motion.div>\n    </div>\n  )\n}  "],"names":[],"mappings":"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","debugId":null}}]
}