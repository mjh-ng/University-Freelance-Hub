{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/markhong/creative-project-520521/app/post/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport supabase from '@/lib/supabaseBrowserClient'\n\nexport default function PostPage() {\n  const router = useRouter()\n\n  const [title, setTitle] = useState('')\n  const [description, setDescription] = useState('')\n  const [paid, setPaid] = useState(false)\n  const [message, setMessage] = useState('')\n\n  // Check if user is logged in, if not redirect to login page\n  useEffect(() => {\n    const check = async () => {\n      const { data } = await supabase.auth.getUser() \n      if (!data.user) router.replace('/login') // if not logged in, redirect to login\n    }\n    check()\n  }, [])\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    const {\n      data: { user },\n      error: userError,\n    } = await supabase.auth.getUser()\n\n    if (userError || !user) {\n      setMessage('You must be logged in to post.')\n      return\n    }\n\n    const { error } = await supabase.from('requests').insert([\n      {\n        title,\n        description,\n        paid,\n        created_by: user.id,\n      },\n    ])\n\n    if (error) {\n      setMessage('Unable to post request: ' + error.message)\n    } else {\n      setMessage('Request posted!')\n      router.replace('/') // go back to homepage\n    }\n  }\n\n  return (\n    <div className=\"p-6 max-w-xl mx-auto\">\n      <h1 className=\"text-2xl font-bold mb-4\">Post a New Request</h1>\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <input\n          className=\"w-full border p-2\"\n          placeholder=\"Project title\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n          required\n        />\n        <textarea\n          className=\"w-full border p-2\"\n          placeholder=\"Description (optional)\"\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n        />\n        <label className=\"flex items-center gap-2\">\n          <input\n            type=\"checkbox\"\n            checked={paid}\n            onChange={(e) => setPaid(e.target.checked)}\n          />\n          Paid request\n        </label>\n        <button type=\"submit\" className=\"bg-black text-white px-4 py-2\">\n          Submit Request\n        </button>\n      </form>\n      {message && <p className=\"mt-4\">{message}</p>}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,4DAA4D;IAC5D,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ;YACZ,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,4HAAA,CAAA,UAAQ,CAAC,IAAI,CAAC,OAAO;YAC5C,IAAI,CAAC,KAAK,IAAI,EAAE,OAAO,OAAO,CAAC,UAAU,sCAAsC;;QACjF;QACA;IACF,GAAG,EAAE;IAEL,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACd,OAAO,SAAS,EACjB,GAAG,MAAM,4HAAA,CAAA,UAAQ,CAAC,IAAI,CAAC,OAAO;QAE/B,IAAI,aAAa,CAAC,MAAM;YACtB,WAAW;YACX;QACF;QAEA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,4HAAA,CAAA,UAAQ,CAAC,IAAI,CAAC,YAAY,MAAM,CAAC;YACvD;gBACE;gBACA;gBACA;gBACA,YAAY,KAAK,EAAE;YACrB;SACD;QAED,IAAI,OAAO;YACT,WAAW,6BAA6B,MAAM,OAAO;QACvD,OAAO;YACL,WAAW;YACX,OAAO,OAAO,CAAC,KAAK,sBAAsB;;QAC5C;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,8OAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,8OAAC;wBACC,WAAU;wBACV,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,QAAQ;;;;;;kCAEV,8OAAC;wBACC,WAAU;wBACV,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;kCAEhD,8OAAC;wBAAM,WAAU;;0CACf,8OAAC;gCACC,MAAK;gCACL,SAAS;gCACT,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,OAAO;;;;;;4BACzC;;;;;;;kCAGJ,8OAAC;wBAAO,MAAK;wBAAS,WAAU;kCAAgC;;;;;;;;;;;;YAIjE,yBAAW,8OAAC;gBAAE,WAAU;0BAAQ;;;;;;;;;;;;AAGvC","debugId":null}},
    {"offset": {"line": 147, "column": 0}, "map": {"version":3,"sources":["file:///Users/markhong/creative-project-520521/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}}]
}